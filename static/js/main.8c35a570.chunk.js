(this.webpackJsonpc19=this.webpackJsonpc19||[]).push([[0],{159:function(e,t,n){},160:function(e,t,n){},161:function(e,t,n){},162:function(e,t,n){},163:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(17),c=n.n(o),i=n(6),l=n(18),s=n(49),u=n(50),d=n(51),h=n(52),f=n(56),p=n(55),m=function(e){return fetch(e).then((function(e){return e.json()}))};n(66);function b(e){var t=e.onSearchChange;return a.a.createElement("div",{className:"container-fluid"},a.a.createElement("input",{type:"search",onChange:t,className:"form-control search",placeholder:"searh country"}))}var g=n(53);function E(e){var t=e.country;if("code=404, message=Not Found, internal=<nil>"===t)return a.a.createElement("h1",null,"something went wrong!");var n=function(e){return e.map((function(e){return e.Confirmed}))}(t),r=function(e){return e.map((function(e){return e.Recovered}))}(t),o=function(e){return e.map((function(e){return e.Deaths}))}(t),c={labels:function(e){return e.map((function(e){return e.Date.substring(0,10)}))}(t),datasets:[{label:"# Of Cases",fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(75,192,192,1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:n},{label:"# Of Recovers",fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(75,192,92,1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,92,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:r},{label:"# Of Deaths",fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(250,92,92,1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:o}]};return a.a.createElement("div",{className:"container-fluid"},a.a.createElement(g.a,{data:c}))}n(159);function C(e){var t=e.name,n=e.cases,r=e.newcases,o=e.deaths,c=e.newdeaths,i=e.recovers,l=e.newrecovers,s=e.rownum;return a.a.createElement("tbody",null,a.a.createElement("th",{scope:"row"},s+1),a.a.createElement("td",null,a.a.createElement("p",{className:"text-center  text-capitalize "},t)),a.a.createElement("td",{className:"text-capitalize "},a.a.createElement("p",null,n)),a.a.createElement("td",null,a.a.createElement("p",{className:"text-capitalize "},r)),a.a.createElement("td",null,a.a.createElement("p",null,o)),a.a.createElement("td",null,a.a.createElement("p",null,c)),a.a.createElement("td",null,a.a.createElement("p",null,i)),a.a.createElement("td",null,a.a.createElement("p",null,l)))}n(160);function v(e){var t=e.countriesF,n=e.date;return t.sort((function(e,t){if(Number(e.TotalConfirmed)<Number(t.TotalConfirmed))return-1;if(Number(e.TotalConfirmed)>Number(t.TotalConfirmed))return 1;return 0})),t.reverse(),a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"row"},a.a.createElement("h2",{className:"text-center text-capitalized"},"last updated: ",n),a.a.createElement("table",{className:"table table-bordered"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"col"},"#"),a.a.createElement("th",{scope:"col",className:"font-weight-normal"},"Country"),a.a.createElement("th",{scope:"col",className:"font-weight-normal"},"TotalCases"),a.a.createElement("th",{scope:"col",className:"font-weight-normal"},"NewCases"),a.a.createElement("th",{scope:"col",className:"font-weight-normal"},"TotalDeaths"),a.a.createElement("th",{scope:"col",className:"font-weight-normal"},"NewDeaths"),a.a.createElement("th",{scope:"col",className:"font-weight-normal"},"TotalRecovered"),a.a.createElement("th",{scope:"col",className:"font-weight-normal"},"NewRecovered"))),t.map((function(e,n){return a.a.createElement(C,{key:n,rownum:n,name:t[n].Country,cases:t[n].TotalConfirmed,newcases:t[n].NewConfirmed,deaths:t[n].TotalDeaths,newdeaths:t[n].NewDeaths,recovers:t[n].TotalRecovered,newrecovers:t[n].NewRecovered})})))))}n(161);var y=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.props.onRequestCity()}},{key:"render",value:function(){var e=this.props,t=e.onSearchChange,n=e.onRequestChart,r=(e.isPendingC,e.country),o=e.searchField,c=e.countries,i=e.global,l=e.date,s=e.isPending,u=c.filter((function(e){return e.Country.toLowerCase().includes(o.toLowerCase())}));return a.a.createElement("div",{className:"App"},a.a.createElement("link",{rel:"stylesheet",href:"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css",integrity:"sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm",crossOrigin:"anonymous"}),a.a.createElement("link",{href:"https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;900&display=swap",rel:"stylesheet"}),a.a.createElement(b,{onSearchChange:t}),s?a.a.createElement("h2",null,"Fetching Data..."):a.a.createElement(v,{countriesF:u,global:i,date:l}),o.toLowerCase().includes("united states of america")?a.a.createElement("h1",{className:"font-weight-bold"},"USA's data is too big it breaks the chart library!"):a.a.createElement("button",{className:"btn text-capitalize btn-width btn-primary btn-lg",onClick:function(){return n(o)}},"show charts of ",o),a.a.createElement("h1",{className:"text-center text-capitalize "},"enter full name of country to see chart"),a.a.createElement(E,{country:r}))}}]),n}(r.Component),w=Object(l.b)((function(e){return{searchField:e.searchCity.searchField,countries:e.requestCity.countries,date:e.requestCity.date,global:e.requestCity.global,isPending:e.requestCity.isPending,isPendingC:e.requestChart.isPendingC,country:e.requestChart.country}}),(function(e){return{onSearchChange:function(t){e({type:"CHANGE_SEARCHFIELD",payload:t.target.value})},onRequestCity:function(){return e((function(e){e({type:"REQUEST_COUNTRIES_PENDING"}),m("https://api.covid19api.com/summary").then((function(t){return e({type:"REQUEST_COUNTRIES_SUCCESS",payload:t})})).then((function(e){return console.log(e)})).catch((function(t){return e({type:"REQUEST_COUNTRIES_FAILED",payload:t})}))}))},onRequestChart:function(t){return e(function(e){return function(t){var n="https://api.covid19api.com/country/".concat(e);t({type:"REQUEST_CHARTS_PENDING"}),m(n).then((function(e){return t({type:"REQUEST_CHARTS_SUCCESS",payload:e})})).then((function(e){return console.log(e)})).catch((function(e){return t({type:"REQUEST_CHARTS_FAILED",payload:e})}))}}(t))}}}))(y),S=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function N(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var R=n(2),T={searchField:""},O={countries:[],global:{},data:"",isPending:!0},k={country:[],isPendingC:!0},j=(n(162),Object(u.createLogger)()),D=Object(i.c)({searchCity:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"CHANGE_SEARCHFIELD":return Object(R.a)(Object(R.a)({},e),{},{searchField:t.payload});default:return e}},requestCity:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"REQUEST_COUNTRIES_PENDING":return Object(R.a)(Object(R.a)({},e),{},{isPending:!0});case"REQUEST_COUNTRIES_SUCCESS":return console.log(t.payload,"we are at reducers"),Object(R.a)(Object(R.a)({},e),{},{countries:t.payload.Countries,global:t.payload.Global,date:t.payload.Date,isPending:!1});case"REQUEST_COUNTRIES_FAILED":return Object(R.a)(Object(R.a)({},e),{},{error:t.payload});default:return e}},requestChart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"REQUEST_CHARTS_PENDING":return Object(R.a)(Object(R.a)({},e),{},{isPendingC:!0});case"REQUEST_CHARTS_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{country:t.payload,isPendingC:!1});case"REQUEST_CHARTS_FAILED":return Object(R.a)(Object(R.a)({},e),{},{error:t.payload});default:return e}}}),U=Object(i.d)(D,Object(i.a)(s.a,j));c.a.render(a.a.createElement(l.a,{store:U},a.a.createElement(w,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/coronatracker",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/coronatracker","/service-worker.js");S?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):N(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):N(t,e)}))}}()},57:function(e,t,n){e.exports=n(163)},66:function(e,t,n){}},[[57,1,2]]]);
//# sourceMappingURL=main.8c35a570.chunk.js.map